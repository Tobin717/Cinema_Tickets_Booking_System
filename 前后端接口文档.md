# 前后端接口文档

有一些错误会以http状态码形式返回，错误信息在message字段，可以直接显示给用户，具体看每个接口下面的“错误信息”

## 全局错误码

`401`：未注册，message="用户名不存在，请先注册！"

`410`：密码错误，message="密码错误，请重新输入！"

`500`：服务器错误

## 用户登录

### `POST`		`119.23.45.53:8080/login`

## 请求参数

| 参数名     | 参数类型 | 描述   |
| ---------- | -------- | ------ |
| `userid`   | `string` | 用户名 |
| `password` | `string` | 密码   |

### 响应参数

| 参数名    | 参数类型 | 描述                       |
| --------- | -------- | -------------------------- |
| `errcode` | `number` | 状态码（成功为0，失败为1） |
| `errmsg`  | `string` | 状态信息，直接显示给用户   |



## 注册

### `POST`		`119.23.45.53:8080/regist`

### 请求参数

| 参数名     | 参数类型 | 描述   |
| ---------- | -------- | ------ |
| `userid`   | `string` | 用户名 |
| `password` | `string` | 密码   |
| `email`    | `string` | 邮箱   |

### 响应参数

| 参数名    | 参数类型 | 描述                       |
| --------- | -------- | -------------------------- |
| `errcode` | `number` | 状态码（成功为0，失败为1） |
| `errmsg`  | `string` | 状态信息，直接显示给用户   |

邮箱可以为空。

## 获取电影热度前N

### `POST`		`119.23.45.53:8080/getMvRank`

### 请求参数

| 参数名     | 参数类型 | 描述   |
| ---------- | -------- | ------ |
| `number`   | `int` | 热度前N |

### 响应参数

| 参数名    | 参数类型 | 描述                       |
| --------- | -------- | -------------------------- |
| `id` | `int` |  电影id |
| `mv_name`  | `string` | 电影名字   |
| `sale`  | `int` | 电影票房   |

返回的是转化成json的N个元组。
若失败，只返回400.
